# 第三章 在 DataFoundry 上开发

DataFoundry 作为一个大数据 PaaS 平台，不仅为开发者提供了即买即用的大数据服务组件，同时践行敏捷开发，提供了包括规划、需求、开发、测试、上线等整个应用生命周期的管理。

为了践行敏捷开发、提高应用交付效率，可根据 Gitflow 流程在 DataFoundry 上构建一个稳定高效的持续集成、持续部署体系。

![](CICD.png)

在 DataFoundry 上开发、持续集成、持续部署整体分为以下几个部分：

1. 在代码仓库建立 develop、release、master 三个分支，现阶段我们支持 GitHub 及 GitLab 代码仓库；
2. 开发阶段，将代码提交到代码仓库的 develop 分支；
3. 在 DEV 环境，代码发生变化时，触发自动集成（CI）步骤，自动进行代码构建，构建出新镜像；
4. 在 DEV 环境，镜像发生变化时，触发自动部署（CD）步骤，自动部署新镜像；
5. 服务开发阶段完成后，将代码提交 release 分支；
6. 在 Stage 环境，代码发生变化时，触发自动集成（CI）步骤，自动进行代码构建，构建出新镜像；
7. 在 Stage 环境，镜像发生变化时，触发自动部署（CD）步骤，自动部署新镜像；
8. 服务开发阶段完成后，代码提交到 master 分支，打版本 Tag；
9. 在 Product 环境，代码发生变化时，触发自动集成（CI）步骤，自动进行代码构建，构建出新镜像；
10. 在 Product 环境，镜像发生变化时，触发自动部署（CD）步骤，自动部署新镜像。


基于这个流程，可以做到提交代码后无需任何人工操作即可完成全部部署工作，一键实现持续集成和部署。